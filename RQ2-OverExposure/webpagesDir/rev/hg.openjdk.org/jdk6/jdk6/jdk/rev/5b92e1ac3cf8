<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US">
<head>
<link rel="icon" href="/jdk6/jdk6/jdk/static/nanoduke.ico" type="image/png" />
<meta name="robots" content="index, nofollow" />
<link rel="stylesheet" href="/jdk6/jdk6/jdk/static/style-paper.css" type="text/css" />
<script type="text/javascript" src="/jdk6/jdk6/jdk/static/mercurial.js"></script>

<title>jdk6/jdk6/jdk: 5b92e1ac3cf8</title>
</head>
<body>
<div class="container">
<div class="menu">
<div class="logo">
<img src="/jdk6/jdk6/jdk/static/duke_pipes.png" width=75 height=90 border=0 alt="Duke!" />
</div>
<ul>
 <li><a href="/jdk6/jdk6/jdk/shortlog/5b92e1ac3cf8">log</a></li>
 <li><a href="/jdk6/jdk6/jdk/graph/5b92e1ac3cf8">graph</a></li>
 <li><a href="/jdk6/jdk6/jdk/tags">tags</a></li>
 <li><a href="/jdk6/jdk6/jdk/bookmarks">bookmarks</a></li>
 <li><a href="/jdk6/jdk6/jdk/branches">branches</a></li>
</ul>
<ul>
 <li class="active">changeset</li>
 <li><a href="/jdk6/jdk6/jdk/raw-rev/5b92e1ac3cf8">raw</a></li>
 <li><a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8">browse</a></li>
</ul>
<ul>
 
<li>
<a href="/jdk6/jdk6/jdk/archive/5b92e1ac3cf8.zip">zip</a>
</li>
<li>
<a href="/jdk6/jdk6/jdk/archive/5b92e1ac3cf8.tar.gz">gz</a>
</li>
<li>
<a href="/jdk6/jdk6/jdk/archive/5b92e1ac3cf8.tar.bz2">bz2</a>
</li>
</ul>
<ul>
 <li><a href="/jdk6/jdk6/jdk/help">help</a></li>
</ul>
</div>

<div class="main">

<h2 class="breadcrumb"><a href="/">OpenJDK</a> / <a href="/jdk6">jdk6</a> / <a href="/jdk6/jdk6">jdk6</a> / <a href="/jdk6/jdk6/jdk">jdk</a> </h2>
<h3>changeset 163:5b92e1ac3cf8   </h3>

<form class="search" action="/jdk6/jdk6/jdk/log">

<p><input name="rev" id="search1" type="text" size="30" /></p>
<div id="hint">Find changesets by keywords (author, files, the commit message), revision
number or hash, or <a href="/jdk6/jdk6/jdk/help/revsets">revset expression</a>.</div>
</form>

<div class="description">6656625: ImageReaderSpi.STANDARD_INPUT_TYPE/ImageWriterSpi.STANDARD_OUTPUT_TYPE are mutable static (findbugs)
Reviewed-by: prr</div>

<table id="changesetEntry">
<tr>
 <th class="author">author</th>
 <td class="author">&#98;&#97;&#101;</td>
</tr>
<tr>
 <th class="date">date</th>
 <td class="date age">Wed, 29 Apr 2009 19:48:57 +0400</td></tr>
<tr>
 <th class="author">parents</th>
 <td class="author"><a href="/jdk6/jdk6/jdk/rev/3d04f8751b05">3d04f8751b05</a> </td>
</tr>
<tr>
 <th class="author">children</th>
 <td class="author"> <a href="/jdk6/jdk6/jdk/rev/291795d6538c">291795d6538c</a></td>
</tr>
<tr>
 <th class="files">files</th>
 <td class="files"><a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/bmp/BMPImageReaderSpi.java">src/share/classes/com/sun/imageio/plugins/bmp/BMPImageReaderSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/bmp/BMPImageWriterSpi.java">src/share/classes/com/sun/imageio/plugins/bmp/BMPImageWriterSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/gif/GIFImageReaderSpi.java">src/share/classes/com/sun/imageio/plugins/gif/GIFImageReaderSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/gif/GIFImageWriterSpi.java">src/share/classes/com/sun/imageio/plugins/gif/GIFImageWriterSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageReaderSpi.java">src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageReaderSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageWriterSpi.java">src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageWriterSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/png/PNGImageReaderSpi.java">src/share/classes/com/sun/imageio/plugins/png/PNGImageReaderSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/png/PNGImageWriterSpi.java">src/share/classes/com/sun/imageio/plugins/png/PNGImageWriterSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageReaderSpi.java">src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageReaderSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageWriterSpi.java">src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageWriterSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/javax/imageio/spi/ImageReaderSpi.java">src/share/classes/javax/imageio/spi/ImageReaderSpi.java</a> <a href="/jdk6/jdk6/jdk/file/5b92e1ac3cf8/src/share/classes/javax/imageio/spi/ImageWriterSpi.java">src/share/classes/javax/imageio/spi/ImageWriterSpi.java</a> </td>
</tr>
<tr>
  <th class="diffstat">diffstat</th>
  <td class="diffstat">
     12 files changed, 25 insertions(+), 12 deletions(-)

    <a id="diffstatexpand" href="javascript:toggleDiffstat()"/>[<tt>+</tt>]</a>
    <div id="diffstatdetails" style="display:none;">
      <a href="javascript:toggleDiffstat()"/>[<tt>-</tt>]</a>
      <p>
      <table class="stripes2">  <tr>
    <td class="diffstat-file"><a href="#l1.1">src/share/classes/com/sun/imageio/plugins/bmp/BMPImageReaderSpi.java</a></td>
    <td class="diffstat-total" align="right">2</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:16.6666666667%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l2.1">src/share/classes/com/sun/imageio/plugins/bmp/BMPImageWriterSpi.java</a></td>
    <td class="diffstat-total" align="right">3</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:33.3333333333%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l3.1">src/share/classes/com/sun/imageio/plugins/gif/GIFImageReaderSpi.java</a></td>
    <td class="diffstat-total" align="right">2</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:16.6666666667%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l4.1">src/share/classes/com/sun/imageio/plugins/gif/GIFImageWriterSpi.java</a></td>
    <td class="diffstat-total" align="right">3</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:33.3333333333%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l5.1">src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageReaderSpi.java</a></td>
    <td class="diffstat-total" align="right">2</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:16.6666666667%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l6.1">src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageWriterSpi.java</a></td>
    <td class="diffstat-total" align="right">3</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:33.3333333333%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l7.1">src/share/classes/com/sun/imageio/plugins/png/PNGImageReaderSpi.java</a></td>
    <td class="diffstat-total" align="right">2</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:16.6666666667%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l8.1">src/share/classes/com/sun/imageio/plugins/png/PNGImageWriterSpi.java</a></td>
    <td class="diffstat-total" align="right">3</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:33.3333333333%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l9.1">src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageReaderSpi.java</a></td>
    <td class="diffstat-total" align="right">2</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:16.6666666667%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l10.1">src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageWriterSpi.java</a></td>
    <td class="diffstat-total" align="right">3</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:33.3333333333%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l11.1">src/share/classes/javax/imageio/spi/ImageReaderSpi.java</a></td>
    <td class="diffstat-total" align="right">6</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:83.3333333333%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
  <tr>
    <td class="diffstat-file"><a href="#l12.1">src/share/classes/javax/imageio/spi/ImageWriterSpi.java</a></td>
    <td class="diffstat-total" align="right">6</td>
    <td class="diffstat-graph">
      <span class="diffstat-add" style="width:83.3333333333%;">&nbsp;</span>
      <span class="diffstat-remove" style="width:16.6666666667%;">&nbsp;</span>
    </td>
  </tr>
</table>
    </div>
  </td>
</tr>
</table>

<div class="overflow">
<div class="sourcefirst linewraptoggle">line wrap: <a class="linewraplink" href="javascript:toggleLinewrap()">on</a></div>
<div class="sourcefirst"> line diff</div>
<div class="stripes2 diffblocks">
<div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l1.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/bmp/BMPImageReaderSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l1.1"></a>
<span id="l1.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/bmp/BMPImageReaderSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l1.2"></a>
<span id="l1.3" class="atline">@@ -51,7 +51,7 @@</span><a href="#l1.3"></a>
<span id="l1.4">               entensions,</span><a href="#l1.4"></a>
<span id="l1.5">               mimeType,</span><a href="#l1.5"></a>
<span id="l1.6">               &quot;com.sun.imageio.plugins.bmp.BMPImageReader&quot;,</span><a href="#l1.6"></a>
<span id="l1.7" class="minusline">-              STANDARD_INPUT_TYPE,</span><a href="#l1.7"></a>
<span id="l1.8" class="plusline">+              new Class[] { ImageInputStream.class },</span><a href="#l1.8"></a>
<span id="l1.9">               writerSpiNames,</span><a href="#l1.9"></a>
<span id="l1.10">               false,</span><a href="#l1.10"></a>
<span id="l1.11">               null, null, null, null,</span><a href="#l1.11"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l2.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/bmp/BMPImageWriterSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l2.1"></a>
<span id="l2.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/bmp/BMPImageWriterSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l2.2"></a>
<span id="l2.3" class="atline">@@ -32,6 +32,7 @@</span><a href="#l2.3"></a>
<span id="l2.4"> import javax.imageio.spi.ImageWriterSpi;</span><a href="#l2.4"></a>
<span id="l2.5"> import javax.imageio.spi.ServiceRegistry;</span><a href="#l2.5"></a>
<span id="l2.6"> import javax.imageio.spi.IIORegistry;</span><a href="#l2.6"></a>
<span id="l2.7" class="plusline">+import javax.imageio.stream.ImageOutputStream;</span><a href="#l2.7"></a>
<span id="l2.8"> import javax.imageio.ImageWriter;</span><a href="#l2.8"></a>
<span id="l2.9"> import javax.imageio.ImageTypeSpecifier;</span><a href="#l2.9"></a>
<span id="l2.10"> import javax.imageio.IIOException;</span><a href="#l2.10"></a>
<span id="l2.11" class="atline">@@ -55,7 +56,7 @@</span><a href="#l2.11"></a>
<span id="l2.12">               entensions,</span><a href="#l2.12"></a>
<span id="l2.13">               mimeType,</span><a href="#l2.13"></a>
<span id="l2.14">               &quot;com.sun.imageio.plugins.bmp.BMPImageWriter&quot;,</span><a href="#l2.14"></a>
<span id="l2.15" class="minusline">-              STANDARD_OUTPUT_TYPE,</span><a href="#l2.15"></a>
<span id="l2.16" class="plusline">+              new Class[] { ImageOutputStream.class },</span><a href="#l2.16"></a>
<span id="l2.17">               readerSpiNames,</span><a href="#l2.17"></a>
<span id="l2.18">               false,</span><a href="#l2.18"></a>
<span id="l2.19">               null, null, null, null,</span><a href="#l2.19"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l3.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/gif/GIFImageReaderSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l3.1"></a>
<span id="l3.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/gif/GIFImageReaderSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l3.2"></a>
<span id="l3.3" class="atline">@@ -62,7 +62,7 @@</span><a href="#l3.3"></a>
<span id="l3.4">               suffixes,</span><a href="#l3.4"></a>
<span id="l3.5">               MIMETypes,</span><a href="#l3.5"></a>
<span id="l3.6">               readerClassName,</span><a href="#l3.6"></a>
<span id="l3.7" class="minusline">-              STANDARD_INPUT_TYPE,</span><a href="#l3.7"></a>
<span id="l3.8" class="plusline">+              new Class[] { ImageInputStream.class },</span><a href="#l3.8"></a>
<span id="l3.9">               writerSpiNames,</span><a href="#l3.9"></a>
<span id="l3.10">               true,</span><a href="#l3.10"></a>
<span id="l3.11">               GIFStreamMetadata.nativeMetadataFormatName,</span><a href="#l3.11"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l4.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/gif/GIFImageWriterSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l4.1"></a>
<span id="l4.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/gif/GIFImageWriterSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l4.2"></a>
<span id="l4.3" class="atline">@@ -31,6 +31,7 @@</span><a href="#l4.3"></a>
<span id="l4.4"> import javax.imageio.ImageTypeSpecifier;</span><a href="#l4.4"></a>
<span id="l4.5"> import javax.imageio.ImageWriter;</span><a href="#l4.5"></a>
<span id="l4.6"> import javax.imageio.spi.ImageWriterSpi;</span><a href="#l4.6"></a>
<span id="l4.7" class="plusline">+import javax.imageio.stream.ImageOutputStream;</span><a href="#l4.7"></a>
<span id="l4.8"> import com.sun.imageio.plugins.common.PaletteBuilder;</span><a href="#l4.8"></a>
<span id="l4.9"> </span><a href="#l4.9"></a>
<span id="l4.10"> public class GIFImageWriterSpi extends ImageWriterSpi {</span><a href="#l4.10"></a>
<span id="l4.11" class="atline">@@ -59,7 +60,7 @@</span><a href="#l4.11"></a>
<span id="l4.12">               suffixes,</span><a href="#l4.12"></a>
<span id="l4.13">               MIMETypes,</span><a href="#l4.13"></a>
<span id="l4.14">               writerClassName,</span><a href="#l4.14"></a>
<span id="l4.15" class="minusline">-              STANDARD_OUTPUT_TYPE,</span><a href="#l4.15"></a>
<span id="l4.16" class="plusline">+              new Class[] { ImageOutputStream.class },</span><a href="#l4.16"></a>
<span id="l4.17">               readerSpiNames,</span><a href="#l4.17"></a>
<span id="l4.18">               true,</span><a href="#l4.18"></a>
<span id="l4.19">               GIFWritableStreamMetadata.NATIVE_FORMAT_NAME,</span><a href="#l4.19"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l5.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageReaderSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l5.1"></a>
<span id="l5.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageReaderSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l5.2"></a>
<span id="l5.3" class="atline">@@ -48,7 +48,7 @@</span><a href="#l5.3"></a>
<span id="l5.4">               JPEG.suffixes,</span><a href="#l5.4"></a>
<span id="l5.5">               JPEG.MIMETypes,</span><a href="#l5.5"></a>
<span id="l5.6">               &quot;com.sun.imageio.plugins.jpeg.JPEGImageReader&quot;,</span><a href="#l5.6"></a>
<span id="l5.7" class="minusline">-              STANDARD_INPUT_TYPE,</span><a href="#l5.7"></a>
<span id="l5.8" class="plusline">+              new Class[] { ImageInputStream.class },</span><a href="#l5.8"></a>
<span id="l5.9">               writerSpiNames,</span><a href="#l5.9"></a>
<span id="l5.10">               true,</span><a href="#l5.10"></a>
<span id="l5.11">               JPEG.nativeStreamMetadataFormatName,</span><a href="#l5.11"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l6.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageWriterSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l6.1"></a>
<span id="l6.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/jpeg/JPEGImageWriterSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l6.2"></a>
<span id="l6.3" class="atline">@@ -28,6 +28,7 @@</span><a href="#l6.3"></a>
<span id="l6.4"> import javax.imageio.spi.ImageWriterSpi;</span><a href="#l6.4"></a>
<span id="l6.5"> import javax.imageio.spi.ServiceRegistry;</span><a href="#l6.5"></a>
<span id="l6.6"> import javax.imageio.spi.IIORegistry;</span><a href="#l6.6"></a>
<span id="l6.7" class="plusline">+import javax.imageio.stream.ImageOutputStream;</span><a href="#l6.7"></a>
<span id="l6.8"> import javax.imageio.ImageWriter;</span><a href="#l6.8"></a>
<span id="l6.9"> import javax.imageio.ImageTypeSpecifier;</span><a href="#l6.9"></a>
<span id="l6.10"> import javax.imageio.IIOException;</span><a href="#l6.10"></a>
<span id="l6.11" class="atline">@@ -51,7 +52,7 @@</span><a href="#l6.11"></a>
<span id="l6.12">               JPEG.suffixes,</span><a href="#l6.12"></a>
<span id="l6.13">               JPEG.MIMETypes,</span><a href="#l6.13"></a>
<span id="l6.14">               &quot;com.sun.imageio.plugins.jpeg.JPEGImageWriter&quot;,</span><a href="#l6.14"></a>
<span id="l6.15" class="minusline">-              STANDARD_OUTPUT_TYPE,</span><a href="#l6.15"></a>
<span id="l6.16" class="plusline">+              new Class[] { ImageOutputStream.class },</span><a href="#l6.16"></a>
<span id="l6.17">               readerSpiNames,</span><a href="#l6.17"></a>
<span id="l6.18">               true,</span><a href="#l6.18"></a>
<span id="l6.19">               JPEG.nativeStreamMetadataFormatName,</span><a href="#l6.19"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l7.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/png/PNGImageReaderSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l7.1"></a>
<span id="l7.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/png/PNGImageReaderSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l7.2"></a>
<span id="l7.3" class="atline">@@ -62,7 +62,7 @@</span><a href="#l7.3"></a>
<span id="l7.4">               suffixes,</span><a href="#l7.4"></a>
<span id="l7.5">               MIMETypes,</span><a href="#l7.5"></a>
<span id="l7.6">               readerClassName,</span><a href="#l7.6"></a>
<span id="l7.7" class="minusline">-              STANDARD_INPUT_TYPE,</span><a href="#l7.7"></a>
<span id="l7.8" class="plusline">+              new Class[] { ImageInputStream.class },</span><a href="#l7.8"></a>
<span id="l7.9">               writerSpiNames,</span><a href="#l7.9"></a>
<span id="l7.10">               false,</span><a href="#l7.10"></a>
<span id="l7.11">               null, null,</span><a href="#l7.11"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l8.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/png/PNGImageWriterSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l8.1"></a>
<span id="l8.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/png/PNGImageWriterSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l8.2"></a>
<span id="l8.3" class="atline">@@ -34,6 +34,7 @@</span><a href="#l8.3"></a>
<span id="l8.4"> import javax.imageio.metadata.IIOMetadataFormat;</span><a href="#l8.4"></a>
<span id="l8.5"> import javax.imageio.metadata.IIOMetadataFormatImpl;</span><a href="#l8.5"></a>
<span id="l8.6"> import javax.imageio.spi.ImageWriterSpi;</span><a href="#l8.6"></a>
<span id="l8.7" class="plusline">+import javax.imageio.stream.ImageOutputStream;</span><a href="#l8.7"></a>
<span id="l8.8"> </span><a href="#l8.8"></a>
<span id="l8.9"> /**</span><a href="#l8.9"></a>
<span id="l8.10">  */</span><a href="#l8.10"></a>
<span id="l8.11" class="atline">@@ -63,7 +64,7 @@</span><a href="#l8.11"></a>
<span id="l8.12">                 suffixes,</span><a href="#l8.12"></a>
<span id="l8.13">                 MIMETypes,</span><a href="#l8.13"></a>
<span id="l8.14">                 writerClassName,</span><a href="#l8.14"></a>
<span id="l8.15" class="minusline">-                STANDARD_OUTPUT_TYPE,</span><a href="#l8.15"></a>
<span id="l8.16" class="plusline">+                new Class[] { ImageOutputStream.class },</span><a href="#l8.16"></a>
<span id="l8.17">                 readerSpiNames,</span><a href="#l8.17"></a>
<span id="l8.18">                 false,</span><a href="#l8.18"></a>
<span id="l8.19">                 null, null,</span><a href="#l8.19"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l9.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageReaderSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l9.1"></a>
<span id="l9.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageReaderSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l9.2"></a>
<span id="l9.3" class="atline">@@ -51,7 +51,7 @@</span><a href="#l9.3"></a>
<span id="l9.4">               entensions,</span><a href="#l9.4"></a>
<span id="l9.5">               mimeType,</span><a href="#l9.5"></a>
<span id="l9.6">               &quot;com.sun.imageio.plugins.wbmp.WBMPImageReader&quot;,</span><a href="#l9.6"></a>
<span id="l9.7" class="minusline">-              STANDARD_INPUT_TYPE,</span><a href="#l9.7"></a>
<span id="l9.8" class="plusline">+              new Class[] { ImageInputStream.class },</span><a href="#l9.8"></a>
<span id="l9.9">               writerSpiNames,</span><a href="#l9.9"></a>
<span id="l9.10">               true,</span><a href="#l9.10"></a>
<span id="l9.11">               null, null, null, null,</span><a href="#l9.11"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l10.1" class="minusline">--- a/src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageWriterSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l10.1"></a>
<span id="l10.2" class="plusline">+++ b/src/share/classes/com/sun/imageio/plugins/wbmp/WBMPImageWriterSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l10.2"></a>
<span id="l10.3" class="atline">@@ -28,6 +28,7 @@</span><a href="#l10.3"></a>
<span id="l10.4"> import javax.imageio.spi.ImageWriterSpi;</span><a href="#l10.4"></a>
<span id="l10.5"> import javax.imageio.spi.ServiceRegistry;</span><a href="#l10.5"></a>
<span id="l10.6"> import javax.imageio.spi.IIORegistry;</span><a href="#l10.6"></a>
<span id="l10.7" class="plusline">+import javax.imageio.stream.ImageOutputStream;</span><a href="#l10.7"></a>
<span id="l10.8"> import javax.imageio.ImageWriter;</span><a href="#l10.8"></a>
<span id="l10.9"> import javax.imageio.ImageTypeSpecifier;</span><a href="#l10.9"></a>
<span id="l10.10"> import javax.imageio.IIOException;</span><a href="#l10.10"></a>
<span id="l10.11" class="atline">@@ -54,7 +55,7 @@</span><a href="#l10.11"></a>
<span id="l10.12">               entensions,</span><a href="#l10.12"></a>
<span id="l10.13">               mimeType,</span><a href="#l10.13"></a>
<span id="l10.14">               &quot;com.sun.imageio.plugins.wbmp.WBMPImageWriter&quot;,</span><a href="#l10.14"></a>
<span id="l10.15" class="minusline">-              STANDARD_OUTPUT_TYPE,</span><a href="#l10.15"></a>
<span id="l10.16" class="plusline">+              new Class[] { ImageOutputStream.class },</span><a href="#l10.16"></a>
<span id="l10.17">               readerSpiNames,</span><a href="#l10.17"></a>
<span id="l10.18">               true,</span><a href="#l10.18"></a>
<span id="l10.19">               null, null, null, null,</span><a href="#l10.19"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l11.1" class="minusline">--- a/src/share/classes/javax/imageio/spi/ImageReaderSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l11.1"></a>
<span id="l11.2" class="plusline">+++ b/src/share/classes/javax/imageio/spi/ImageReaderSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l11.2"></a>
<span id="l11.3" class="atline">@@ -227,7 +227,11 @@</span><a href="#l11.3"></a>
<span id="l11.4">             throw new IllegalArgumentException</span><a href="#l11.4"></a>
<span id="l11.5">                 (&quot;inputTypes.length == 0!&quot;);</span><a href="#l11.5"></a>
<span id="l11.6">         }</span><a href="#l11.6"></a>
<span id="l11.7" class="minusline">-        this.inputTypes = (Class[])inputTypes.clone();</span><a href="#l11.7"></a>
<span id="l11.8" class="plusline">+</span><a href="#l11.8"></a>
<span id="l11.9" class="plusline">+        this.inputTypes = (inputTypes == STANDARD_INPUT_TYPE) ?</span><a href="#l11.9"></a>
<span id="l11.10" class="plusline">+            new Class&lt;?&gt;[] { ImageInputStream.class } :</span><a href="#l11.10"></a>
<span id="l11.11" class="plusline">+            inputTypes.clone();</span><a href="#l11.11"></a>
<span id="l11.12" class="plusline">+</span><a href="#l11.12"></a>
<span id="l11.13">         // If length == 0, leave it null</span><a href="#l11.13"></a>
<span id="l11.14">         if (writerSpiNames != null &amp;&amp; writerSpiNames.length &gt; 0) {</span><a href="#l11.14"></a>
<span id="l11.15">             this.writerSpiNames = (String[])writerSpiNames.clone();</span><a href="#l11.15"></a></pre></div><div class="bottomline inc-lineno"><pre class="sourcelines wrap">
<span id="l12.1" class="minusline">--- a/src/share/classes/javax/imageio/spi/ImageWriterSpi.java	Wed Apr 29 19:32:36 2009 +0400</span><a href="#l12.1"></a>
<span id="l12.2" class="plusline">+++ b/src/share/classes/javax/imageio/spi/ImageWriterSpi.java	Wed Apr 29 19:48:57 2009 +0400</span><a href="#l12.2"></a>
<span id="l12.3" class="atline">@@ -228,7 +228,11 @@</span><a href="#l12.3"></a>
<span id="l12.4">             throw new IllegalArgumentException</span><a href="#l12.4"></a>
<span id="l12.5">                 (&quot;outputTypes.length == 0!&quot;);</span><a href="#l12.5"></a>
<span id="l12.6">         }</span><a href="#l12.6"></a>
<span id="l12.7" class="minusline">-        this.outputTypes = (Class[])outputTypes.clone();</span><a href="#l12.7"></a>
<span id="l12.8" class="plusline">+</span><a href="#l12.8"></a>
<span id="l12.9" class="plusline">+        this.outputTypes = (outputTypes == STANDARD_OUTPUT_TYPE) ?</span><a href="#l12.9"></a>
<span id="l12.10" class="plusline">+            new Class&lt;?&gt;[] { ImageOutputStream.class } :</span><a href="#l12.10"></a>
<span id="l12.11" class="plusline">+            outputTypes.clone();</span><a href="#l12.11"></a>
<span id="l12.12" class="plusline">+</span><a href="#l12.12"></a>
<span id="l12.13">         // If length == 0, leave it null</span><a href="#l12.13"></a>
<span id="l12.14">         if (readerSpiNames != null &amp;&amp; readerSpiNames.length &gt; 0) {</span><a href="#l12.14"></a>
<span id="l12.15">             this.readerSpiNames = (String[])readerSpiNames.clone();</span><a href="#l12.15"></a></pre></div>
</div>
</div>

</div>
</div>


<div class="container"><div class="main footer">
&copy 2007, <script>document.write(new Date().getFullYear())</script> Oracle and/or its affiliates<br/>
<a href="http://openjdk.java.net/legal/tou/">Terms of Use</a>
&#183; <a href="http://www.oracle.com/us/legal/privacy/">Privacy</a>
&#183; <a href="https://openjdk.java.net/legal/openjdk-trademark-notice.html">Trademarks</a>
</div></div>

</body>
</html>

